<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Android app organization</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="приложение-itmo.maps">Приложение ITMO.maps</h1>
<h2 id="серверная-часть">Серверная часть</h2>
<h4 id="что-надо-бы-хранить">Что надо бы хранить:</h4>
<ol>
<li>Коменты (вне обсуждения)</li>
<li>Аудитории/т.п.</li>
<li>Блоки которые являются лестницами</li>
<li>Блоки которые являются коридорами</li>
</ol>
<p>Карта состоит из 100х100 блоков.</p>
<h5 id="аудитория-описывается-следующим-образом">Аудитория описывается следующим образом:</h5>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">{</span>
   <span class="token string">"coordinates"</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>
   	<span class="token string">"squares"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
   		 <span class="token punctuation">{</span>
   			<span class="token string">"floor"</span><span class="token punctuation">:</span> int1<span class="token punctuation">,</span>
   			<span class="token string">"x"</span><span class="token punctuation">:</span> int2<span class="token punctuation">,</span>
   			<span class="token string">"y"</span><span class="token punctuation">:</span> int3<span class="token punctuation">,</span>
   		 <span class="token punctuation">}</span><span class="token punctuation">,</span>
   		 <span class="token operator">...</span>
   	<span class="token punctuation">]</span><span class="token punctuation">,</span>
   	<span class="token string">"door"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
   		<span class="token string">"floor"</span><span class="token punctuation">:</span> int1<span class="token punctuation">,</span>
   		<span class="token string">"x"</span><span class="token punctuation">:</span> int2<span class="token punctuation">,</span>
   		<span class="token string">"y"</span><span class="token punctuation">:</span> int3<span class="token punctuation">,</span>
   	<span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
   <span class="token string">"type"</span><span class="token punctuation">:</span> str1<span class="token punctuation">,</span>
   <span class="token string">"name"</span><span class="token punctuation">:</span> str2<span class="token punctuation">,</span>
   <span class="token string">"description"</span><span class="token punctuation">:</span> str3<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="какие-методы-нам-нужны-еще">Какие методы нам нужны еще:</h4>
<ol start="3">
<li>Получить по блоку, является ли он коридором, лестницей или аудиторией(тогда какой?)<br>
Овет:</li>
</ol>
<pre class=" language-json"><code class="prism  language-json"><span class="token punctuation">{</span>
	<span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"stair"</span><span class="token punctuation">,</span>
	<span class="token string">"object"</span><span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
	<span class="token string">"down"</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>
		<span class="token string">"x"</span><span class="token punctuation">:</span> int1<span class="token punctuation">,</span>
		<span class="token string">"y"</span><span class="token punctuation">:</span> int2<span class="token punctuation">,</span>
		<span class="token string">"floor"</span><span class="token punctuation">:</span> int3
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token string">"top"</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>
		<span class="token string">"x"</span><span class="token punctuation">:</span> int1<span class="token punctuation">,</span>
		<span class="token string">"y"</span><span class="token punctuation">:</span> int2<span class="token punctuation">,</span>
		<span class="token string">"floor"</span><span class="token punctuation">:</span> int3
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
ИЛИ
<span class="token punctuation">{</span>
	<span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"auditory"</span><span class="token punctuation">,</span>
	<span class="token string">"object"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>object <span class="token keyword">from</span> prev api<span class="token punctuation">}</span>
	<span class="token string">"top"</span><span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
	<span class="token string">"down"</span><span class="token punctuation">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
ИЛИ
<span class="token punctuation">{</span>
	<span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"corridor"</span>
	<span class="token string">"object"</span><span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
	<span class="token string">"top"</span><span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
	<span class="token string">"down"</span><span class="token punctuation">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="приложуха">Приложуха</h2>
<div class="mermaid"><svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-ARMnIUbO8VXgexc0" width="100%" style="max-width: 956.00390625px;" viewBox="0 0 956.00390625 456"><g transform="translate(-12, -12)"><g class="output"><g class="clusters"><g class="cluster" id="subGraph4" transform="translate(142.20703125,412)" style="opacity: 1;"><rect width="244.4140625" height="96" x="-122.20703125" y="-48"></rect><g class="label"><g transform="translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"></div></foreignObject></g></g><text x="0" y="-34" fill="black" stroke="none" id="mermaid-svg-ARMnIUbO8VXgexc0Text" style="text-anchor: middle;">LeaveMapComments</text></g><g class="cluster" id="subGraph3" transform="translate(215.78515625,240)" style="opacity: 1;"><rect width="154.515625" height="96" x="-77.2578125" y="-48"></rect><g class="label"><g transform="translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"></div></foreignObject></g></g><text x="0" y="-34" fill="black" stroke="none" id="mermaid-svg-ARMnIUbO8VXgexc0Text" style="text-anchor: middle;">ShowMapComments</text></g><g class="cluster" id="subGraph2" transform="translate(789.9453125,412)" style="opacity: 1;"><rect width="340.1171875" height="96" x="-170.05859375" y="-48"></rect><g class="label"><g transform="translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"></div></foreignObject></g></g><text x="0" y="-34" fill="black" stroke="none" id="mermaid-svg-ARMnIUbO8VXgexc0Text" style="text-anchor: middle;">ShowRoute</text></g><g class="cluster" id="subGraph1" transform="translate(545.748046875,240)" style="opacity: 1;"><rect width="439.57421875" height="96" x="-219.787109375" y="-48"></rect><g class="label"><g transform="translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"></div></foreignObject></g></g><text x="0" y="-34" fill="black" stroke="none" id="mermaid-svg-ARMnIUbO8VXgexc0Text" style="text-anchor: middle;">RouteActivity</text></g><g class="cluster" id="subGraph0" transform="translate(483.978515625,68)" style="opacity: 1;"><rect width="927.95703125" height="96" x="-463.978515625" y="-48"></rect><g class="label"><g transform="translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"></div></foreignObject></g></g><text x="0" y="-34" fill="black" stroke="none" id="mermaid-svg-ARMnIUbO8VXgexc0Text" style="text-anchor: middle;">MainActivity</text></g></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M419.90234375,91L374.00390625,116L374.00390625,154L374.00390625,192L479.84765625,226.30416205095742" marker-end="url(#arrowhead4517)" style="fill:none"></path><defs><marker id="arrowhead4517" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M296.0078125,78.92694822514517L493.95703125,116L493.95703125,154L493.95703125,192L508.61767578125,217" marker-end="url(#arrowhead4518)" style="fill:none"></path><defs><marker id="arrowhead4518" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M296.0078125,74.65436521932837L658.515625,116L658.515625,154L658.515625,192L564.36328125,225.1303227284442" marker-end="url(#arrowhead4519)" style="fill:none"></path><defs><marker id="arrowhead4519" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M227.180419921875,91L215.78515625,116L215.78515625,154L215.78515625,192L215.78515625,217" marker-end="url(#arrowhead4520)" style="fill:none"></path><defs><marker id="arrowhead4520" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M179.3203125,85.60931397833616L78.62890625,116L78.62890625,154L78.62890625,192L78.62890625,240L78.62890625,288L78.62890625,326L78.62890625,364L114.3466796875,389" marker-end="url(#arrowhead4521)" style="fill:none"></path><defs><marker id="arrowhead4521" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M215.78515625,263L215.78515625,288L215.78515625,326L215.78515625,364L180.0673828125,389" marker-end="url(#arrowhead4522)" style="fill:none"></path><defs><marker id="arrowhead4522" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M697.14453125,263L697.14453125,288L697.14453125,326L697.14453125,364L697.14453125,389" marker-end="url(#arrowhead4523)" style="fill:none"></path><defs><marker id="arrowhead4523" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M870.69921875,91L870.69921875,116L870.69921875,154L870.69921875,192L870.69921875,240L870.69921875,288L870.69921875,326L870.69921875,364L870.69921875,389" marker-end="url(#arrowhead4524)" style="stroke: #333; fill:none;stroke-width:2px;stroke-dasharray:3;"></path><defs><marker id="arrowhead4524" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(374.00390625,154)" style="opacity: 1;"><g transform="translate(-27.7734375,-13)" class="label"><foreignObject width="55.546875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">building</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(493.95703125,154)" style="opacity: 1;"><g transform="translate(-72.1796875,-13)" class="label"><foreignObject width="144.359375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">from(MO) &amp; building</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(658.515625,154)" style="opacity: 1;"><g transform="translate(-62.8984375,-13)" class="label"><foreignObject width="125.796875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">to(MO) &amp; building</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(215.78515625,154)" style="opacity: 1;"><g transform="translate(-39.8984375,-13)" class="label"><foreignObject width="79.796875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">where(MO)</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(78.62890625,240)" style="opacity: 1;"><g transform="translate(-39.8984375,-13)" class="label"><foreignObject width="79.796875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">where(MO)</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(215.78515625,326)" style="opacity: 1;"><g transform="translate(-39.8984375,-13)" class="label"><foreignObject width="79.796875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">where(MO)</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(697.14453125,326)" style="opacity: 1;"><g transform="translate(-28.234375,-13)" class="label"><foreignObject width="56.46875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Route(s)</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(870.69921875,240)" style="opacity: 1;"><g transform="translate(-85.1640625,-13)" class="label"><foreignObject width="170.328125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">reversed, PATH(MOList)</span></div></foreignObject></g></g></g><g class="nodes"><g class="node" id="oclc" transform="translate(147.20703125,412)" style="opacity: 1;"><rect rx="5" ry="5" x="-42.2578125" y="-23" width="84.515625" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-32.2578125,-13)"><foreignObject width="64.515625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">onCreate</div></foreignObject></g></g></g><g class="node" id="ocsc" transform="translate(215.78515625,240)" style="opacity: 1;"><rect rx="5" ry="5" x="-42.2578125" y="-23" width="84.515625" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-32.2578125,-13)"><foreignObject width="64.515625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">onCreate</div></foreignObject></g></g></g><g class="node" id="ocsr" transform="translate(697.14453125,412)" style="opacity: 1;"><rect rx="5" ry="5" x="-42.2578125" y="-23" width="84.515625" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-32.2578125,-13)"><foreignObject width="64.515625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">onCreate</div></foreignObject></g></g></g><g class="node" id="srma" transform="translate(870.69921875,412)" style="opacity: 1;"><rect rx="5" ry="5" x="-54.3046875" y="-23" width="108.609375" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-44.3046875,-13)"><foreignObject width="88.609375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">routeClicked</div></foreignObject></g></g></g><g class="node" id="ocra" transform="translate(522.10546875,240)" style="opacity: 1;"><rect rx="5" ry="5" x="-42.2578125" y="-23" width="84.515625" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-32.2578125,-13)"><foreignObject width="64.515625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">onCreate</div></foreignObject></g></g></g><g class="node" id="sr" transform="translate(697.14453125,240)" style="opacity: 1;"><rect rx="5" ry="5" x="-33.390625" y="-23" width="66.78125" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-23.390625,-13)"><foreignObject width="46.78125" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">button</div></foreignObject></g></g></g><g class="node" id="ocma" transform="translate(870.69921875,68)" style="opacity: 1;"><rect rx="5" ry="5" x="-42.2578125" y="-23" width="84.515625" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-32.2578125,-13)"><foreignObject width="64.515625" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">onCreate</div></foreignObject></g></g></g><g class="node" id="cm" transform="translate(237.6640625,68)" style="opacity: 1;"><rect rx="5" ry="5" x="-58.34375" y="-23" width="116.6875" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-48.34375,-13)"><foreignObject width="96.6875" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">context menu</div></foreignObject></g></g></g><g class="node" id="fb" transform="translate(462.12890625,68)" style="opacity: 1;"><rect rx="5" ry="5" x="-62.21875" y="-23" width="124.4375" height="46"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-52.21875,-13)"><foreignObject width="104.4375" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">floating button</div></foreignObject></g></g></g></g></g></g></svg></div>
<blockquote>
<p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p>
</blockquote>
</div>
</body>

</html>
